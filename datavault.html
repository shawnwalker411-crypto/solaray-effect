<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M6F5T8Y2P6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-M6F5T8Y2P6');
  </script>
  <title>Sola's Array | Imperial Data Vault</title>
  <meta name="description" content="Live cryptocurrency mining data vault. Real-time network difficulty, hashrate charts, and mining statistics for Bitcoin, Litecoin, Kaspa, and more.">
  <meta name="keywords" content="bitcoin network difficulty, mining hashrate chart, crypto mining statistics, bitcoin difficulty history, mining data dashboard, litecoin hashrate, kaspa network stats">
  <meta name="author" content="Sola Ray Effect">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.solarayeffect.com/datavault.html">
  <meta property="og:title" content="Sola's Array | Imperial Data Vault">
  <meta property="og:description" content="Live cryptocurrency mining data vault with real-time network difficulty, hashrate charts, and mining statistics.">
  <meta property="og:url" content="https://www.solarayeffect.com/datavault.html">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.solarayeffect.com/assets/sola_hotpick_sun_optimized.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Sola's Array | Imperial Data Vault">
  <meta name="twitter:description" content="Live cryptocurrency mining data vault with real-time network difficulty, hashrate charts, and mining statistics.">
  <meta name="twitter:image" content="https://www.solarayeffect.com/assets/sola_hotpick_sun_optimized.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/solas-vault.css">
  <!-- Hamburger nav overrides for vault theme -->
  <style>
    .hamburger-menu {
      position: fixed;
      top: 4.5rem;
      left: 1rem;
      z-index: 10001;
    }
    .hamburger-btn {
      background: var(--vault-panel);
      border: 2px solid var(--terminal-cyan);
      color: var(--terminal-cyan);
      width: 44px;
      height: 44px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
    }
    .hamburger-btn:hover {
      background: var(--terminal-cyan);
      color: #000;
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
    }
    .hamburger-btn .bun-top {
      width: 24px; height: 6px;
      background: linear-gradient(180deg, #F4A460 0%, #DEB887 100%);
      border-radius: 10px 10px 0 0;
      transition: all 0.3s ease;
    }
    .hamburger-btn .lettuce {
      width: 26px; height: 3px;
      background: #32CD32;
      border-radius: 1px;
      transition: all 0.3s ease;
    }
    .hamburger-btn .patty {
      width: 24px; height: 4px;
      background: linear-gradient(180deg, #8B4513 0%, #654321 100%);
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    .hamburger-btn .cheese {
      width: 26px; height: 3px;
      background: #FFD700;
      border-radius: 1px;
      transform: skewX(-5deg);
      transition: all 0.3s ease;
    }
    .hamburger-btn .bun-bottom {
      width: 24px; height: 5px;
      background: linear-gradient(180deg, #DEB887 0%, #F4A460 100%);
      border-radius: 0 0 6px 6px;
      transition: all 0.3s ease;
    }
    .hamburger-btn.open .bun-top { transform: rotate(45deg) translate(6px, 8px); }
    .hamburger-btn.open .lettuce { opacity: 0; }
    .hamburger-btn.open .patty { opacity: 0; }
    .hamburger-btn.open .cheese { opacity: 0; }
    .hamburger-btn.open .bun-bottom { transform: rotate(-45deg) translate(6px, -8px); }

    .nav-drawer {
      position: fixed;
      top: 0;
      left: -280px;
      width: 280px;
      height: 100vh;
      background: var(--vault-dark);
      border-right: 2px solid var(--terminal-cyan);
      z-index: 10000;
      transition: left 0.3s ease;
      padding: 80px 1.5rem 2rem;
      box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
    }
    .nav-drawer.open { left: 0; }
    .nav-drawer h3 {
      color: var(--terminal-amber);
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid rgba(255, 184, 0, 0.3);
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    .nav-drawer a {
      display: block;
      color: var(--text-primary);
      text-decoration: none;
      padding: 0.75rem 1rem;
      margin-bottom: 0.5rem;
      border-radius: 6px;
      font-family: 'Rajdhani', sans-serif;
      font-size: 1.1rem;
      transition: all 0.2s ease;
      border: 1px solid transparent;
    }
    .nav-drawer a:hover {
      background: var(--vault-panel);
      border-color: var(--terminal-cyan);
      color: var(--terminal-cyan);
    }
    .nav-drawer a.active {
      background: rgba(0, 212, 255, 0.1);
      border-color: var(--terminal-cyan);
      color: var(--terminal-cyan);
    }
    .nav-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 9998;
    }
    .nav-overlay.show { display: block; }

    /* ============================================
       GLOSSARY DRAWER (vault-themed)
       ============================================ */
    .glossary-drawer {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      max-width: 90vw;
      height: 100vh;
      background: var(--vault-dark, #0a0e1a);
      border-left: 2px solid var(--terminal-cyan, #00d4ff);
      z-index: 10002;
      transition: right 0.3s ease;
      padding: 2rem 1.5rem;
      overflow-y: auto;
      box-shadow: -5px 0 30px rgba(0, 212, 255, 0.3);
    }
    
    .glossary-drawer.open { right: 0; }
    
    .glossary-drawer-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: 1px solid var(--terminal-cyan, #00d4ff);
      color: var(--terminal-cyan, #00d4ff);
      width: 32px;
      height: 32px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.2s ease;
    }
    
    .glossary-drawer-close:hover {
      background: var(--terminal-cyan, #00d4ff);
      color: #000;
    }
    
    .glossary-drawer h3 {
      font-family: 'Orbitron', monospace;
      color: var(--terminal-amber, #ffb800);
      font-size: 1.1rem;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid rgba(255, 184, 0, 0.3);
      letter-spacing: 1px;
    }
    
    .glossary-drawer p {
      font-family: 'Rajdhani', sans-serif;
      color: var(--text-secondary, #8899a8);
      line-height: 1.7;
      font-size: 1.05rem;
      margin-bottom: 1.5rem;
    }
    
    .glossary-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 10001;
    }
    
    .glossary-overlay.show { display: block; }
    
    .glossary-term {
      color: var(--terminal-cyan, #00d4ff);
      border-bottom: 1px dotted var(--terminal-cyan, #00d4ff);
      cursor: help;
      transition: all 0.2s ease;
    }
    
    .glossary-term:hover {
      color: var(--terminal-amber, #ffb800);
      border-color: var(--terminal-amber, #ffb800);
    }

    @media (max-width: 600px) {
      .glossary-drawer { width: 100%; right: -100%; }
    }
  </style>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"Dataset","name":"Solas Array - Live Mining Data Vault","description":"Real-time cryptocurrency mining network statistics including difficulty, hashrate, and block data.","url":"https://www.solarayeffect.com/datavault.html","license":"https://www.solarayeffect.com/","creator":{"@type":"Organization","name":"The Sola Ray Effect"}}</script>
</head>
<body>

  <!-- Boot Overlay -->
  <div class="boot-overlay" id="boot-overlay">
    <div class="boot-content">
      <div class="boot-logo">SA</div>
      <div class="boot-progress">
        <div class="boot-progress-fill" id="boot-progress-fill"></div>
      </div>
      <div class="boot-text" id="boot-text">IMPERIAL DATA VAULT v4.7.7</div>
    </div>
  </div>

  <!-- Hamburger Menu -->
  <div class="hamburger-menu">
    <button class="hamburger-btn" id="hamburger-btn">
      <span class="bun-top"></span>
      <span class="lettuce"></span>
      <span class="patty"></span>
      <span class="cheese"></span>
      <span class="bun-bottom"></span>
    </button>
  </div>

  <!-- Navigation Drawer -->
  <nav class="nav-drawer" id="nav-drawer">
    <h3>Navigation</h3>
    <a href="index.html">‚ö° Calculator</a>
    <a href="miners.html">üîß Miners</a>
    <a href="pools.html">üèä Mining Pools</a>
    <a href="aftermarket_firmware.html">‚öôÔ∏è Firmware Guide</a>
    <a href="electrical_setup.html">üîå Electrical Setup</a>
    <a href="glossary.html">üìñ Glossary</a>
    <a href="datavault.html" class="active">üì° Data Vault</a>
  </nav>
  <div class="nav-overlay" id="nav-overlay"></div>

  <!-- Glossary Drawer -->
  <div class="glossary-drawer" id="glossary-drawer">
    <button class="glossary-drawer-close" id="glossary-close">√ó</button>
    <h3 id="glossary-term-title">Term</h3>
    <p id="glossary-term-definition">Definition goes here...</p>
  </div>
  <div class="glossary-overlay" id="glossary-overlay"></div>

  <!-- Header -->
  <header class="vault-header">
    <div class="header-content">
      <div class="vault-title">
        <div class="vault-logo">SA</div>
        <div>
          <h1>Sola's Array</h1>
          <div class="subtitle">Imperial Data Vault ‚Ä¢ Sector 7</div>
        </div>
      </div>
      <div class="vault-status">
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span>LIVE FEED</span>
        </div>
        <div class="classified-badge">Restricted Access</div>
      </div>
    </div>
  </header>

  <main class="vault-container">

    <!-- Refresh Bar -->
    <div class="refresh-bar">
      <span class="refresh-timestamp">Last sync: --:--:--</span>
      <button class="refresh-btn">REFRESH DATA</button>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SECTION: CORE METRICS
         Hashrate ‚Ä¢ Difficulty ‚Ä¢ Price
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

    <!-- Panel 1: Network Hashrate -->
    <div class="terminal-panel" id="hashrate-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Network <span class="glossary-term" data-term="hashrate">Hashrate</span></h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="30" data-chart="hashrate">30D</button>
          <button class="time-btn" data-range="90" data-chart="hashrate">90D</button>
          <button class="time-btn active" data-range="365" data-chart="hashrate">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="hashrate-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Accessing mainframe...</div>
        </div>
        <div class="chart-container">
          <canvas id="hashrate-chart"></canvas>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Current Hashrate</span>
          <span class="stat-value" id="hashrate-current">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">30D Change</span>
          <span class="stat-value" id="hashrate-change">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">All-Time High</span>
          <span class="stat-value amber" id="hashrate-ath">--</span>
        </div>
      </div>
      <div class="panel-explain">Total computing power securing the Bitcoin network. When <span class="glossary-term" data-term="hashrate">hashrate</span> rises, more miners are competing ‚Äî which usually means <span class="glossary-term" data-term="difficulty">difficulty</span> is about to increase. For home miners, rising hashrate means your slice of the pie gets smaller.</div>
    </div>

    <!-- Panel 2: Mining Difficulty -->
    <div class="terminal-panel" id="difficulty-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Mining <span class="glossary-term" data-term="difficulty">Difficulty</span></h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="30" data-chart="difficulty">30D</button>
          <button class="time-btn" data-range="90" data-chart="difficulty">90D</button>
          <button class="time-btn active" data-range="365" data-chart="difficulty">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="difficulty-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Decrypting data...</div>
        </div>
        <div class="chart-container">
          <canvas id="difficulty-chart"></canvas>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Current Difficulty</span>
          <span class="stat-value" id="difficulty-current">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Next Adjustment</span>
          <span class="stat-value green" id="difficulty-next">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Est. Change</span>
          <span class="stat-value" id="difficulty-est">--</span>
        </div>
      </div>
      <div class="panel-explain">How hard it is to mine a Bitcoin block. Adjusts every ~2,016 blocks (roughly 2 weeks) based on <span class="glossary-term" data-term="hashrate">hashrate</span>. When <span class="glossary-term" data-term="difficulty">difficulty</span> goes up, your miner earns less BTC for the same electricity. This is the single most important number for your profitability.</div>
    </div>

    <!-- Panel 3: BTC Market Price -->
    <div class="terminal-panel" id="price-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>BTC Market Price</h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="30" data-chart="price">30D</button>
          <button class="time-btn" data-range="90" data-chart="price">90D</button>
          <button class="time-btn active" data-range="365" data-chart="price">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="price-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Syncing market data...</div>
        </div>
        <div class="chart-container">
          <canvas id="price-chart"></canvas>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Current Price</span>
          <span class="stat-value green" id="price-current">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">30D Change</span>
          <span class="stat-value" id="price-change">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">All-Time High</span>
          <span class="stat-value amber" id="price-ath">--</span>
        </div>
      </div>
      <div class="panel-explain">What one Bitcoin is worth in USD. Price rising can offset difficulty increases ‚Äî even if you're mining less BTC, each coin is worth more. Price dropping while difficulty stays high is the worst-case scenario for miners.</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SECTION: CORRELATION ANALYSIS
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section-divider">
      <div class="divider-icon"></div>
      CORRELATION ANALYSIS
      <div class="divider-icon"></div>
    </div>

    <!-- Panel 4: Hashrate vs Price Overlay (dual-axis) -->
    <div class="terminal-panel" id="overlay-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Hashrate vs Price</h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="30" data-chart="overlay">30D</button>
          <button class="time-btn" data-range="90" data-chart="overlay">90D</button>
          <button class="time-btn active" data-range="365" data-chart="overlay">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="overlay-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Correlating signals...</div>
        </div>
        <div class="chart-container">
          <canvas id="overlay-chart"></canvas>
        </div>
      </div>
      <div class="overlay-legend">
        <div class="overlay-legend-item">
          <div class="overlay-legend-line hashrate-line"></div>
          <span>Hashrate</span>
        </div>
        <div class="overlay-legend-item">
          <div class="overlay-legend-line price-line"></div>
          <span>Price</span>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Hashrate</span>
          <span class="stat-value" id="overlay-hashrate">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Price</span>
          <span class="stat-value" id="overlay-price">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">30D Trend</span>
          <span class="stat-value" id="overlay-correlation">--</span>
        </div>
      </div>
      <div class="panel-explain">Shows whether hashrate and price are moving together or apart. When they're aligned (both rising), mining economics are stable. When they diverge ‚Äî especially price dropping while hashrate climbs ‚Äî profitability is getting squeezed.</div>
    </div>

    <!-- Panel 5: Difficulty Adjustments (bar chart) -->
    <div class="terminal-panel" id="adjustments-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Difficulty Adjustments</h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="90" data-chart="adjustments">90D</button>
          <button class="time-btn" data-range="180" data-chart="adjustments">180D</button>
          <button class="time-btn active" data-range="365" data-chart="adjustments">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="adjustments-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Analyzing adjustments...</div>
        </div>
        <div class="chart-container">
          <canvas id="adjustments-chart"></canvas>
        </div>
      </div>
      <div class="diff-adjust-legend">
        <div class="legend-item">
          <div class="legend-dot positive"></div>
          <span>Positive (difficulty up)</span>
        </div>
        <div class="legend-item">
          <div class="legend-dot negative"></div>
          <span>Negative (difficulty down)</span>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Last Adjustment</span>
          <span class="stat-value" id="adj-last">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Positive/Total</span>
          <span class="stat-value" id="adj-positive">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Avg Change</span>
          <span class="stat-value" id="adj-avg">--</span>
        </div>
      </div>
      <div class="panel-explain">Each bar is one difficulty adjustment (every ~2 weeks). Green bars mean difficulty went up ‚Äî more competition. Red bars mean it dropped ‚Äî miners leaving the network. A string of green bars means the network is growing and your earnings per machine are shrinking.</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SECTION: NETWORK HEALTH
         Mempool ‚Ä¢ Block Time ‚Ä¢ Fees
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section-divider">
      <div class="divider-icon"></div>
      NETWORK HEALTH
      <div class="divider-icon"></div>
    </div>

    <div class="panel-grid">

      <!-- Panel 6: Mempool Size -->
      <div class="terminal-panel" id="mempool-panel">
        <div class="terminal-header">
          <div class="terminal-title">
            <div class="terminal-icon"></div>
            <h2>Mempool Size</h2>
          </div>
          <div class="terminal-controls">
            <button class="time-btn" data-range="30" data-chart="mempool">30D</button>
            <button class="time-btn" data-range="90" data-chart="mempool">90D</button>
            <button class="time-btn active" data-range="365" data-chart="mempool">1Y</button>
          </div>
        </div>
        <div class="terminal-body">
          <div class="loading-overlay" id="mempool-loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">Scanning mempool...</div>
          </div>
          <div class="chart-container">
            <canvas id="mempool-chart"></canvas>
          </div>
        </div>
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-label">Current Size</span>
            <span class="stat-value" id="mempool-current">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">30D Change</span>
            <span class="stat-value" id="mempool-change">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Peak Size</span>
            <span class="stat-value" id="mempool-peak">--</span>
          </div>
        </div>
        <div class="panel-explain">The waiting room for unconfirmed Bitcoin transactions. A large mempool means the network is congested and transaction fees are high ‚Äî which is actually good for miners since fees are part of your revenue. A small mempool means low fees.</div>
      </div>

      <!-- Panel 7: Median Block Time -->
      <div class="terminal-panel" id="blocktime-panel">
        <div class="terminal-header">
          <div class="terminal-title">
            <div class="terminal-icon"></div>
            <h2>Median Block Time</h2>
          </div>
          <div class="terminal-controls">
            <button class="time-btn" data-range="30" data-chart="blocktime">30D</button>
            <button class="time-btn" data-range="90" data-chart="blocktime">90D</button>
            <button class="time-btn active" data-range="365" data-chart="blocktime">1Y</button>
          </div>
        </div>
        <div class="terminal-body">
          <div class="loading-overlay" id="blocktime-loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">Timing block intervals...</div>
          </div>
          <div class="chart-container">
            <canvas id="blocktime-chart"></canvas>
          </div>
        </div>
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-label">Current</span>
            <span class="stat-value" id="blocktime-current">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Target</span>
            <span class="stat-value" id="blocktime-target">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Deviation</span>
            <span class="stat-value" id="blocktime-deviation">--</span>
          </div>
        </div>
        <div class="panel-explain">How long it takes to mine one block, targeting 10 minutes. Blocks coming faster than 10 minutes means miners are outpacing difficulty ‚Äî next adjustment will likely go up. Slower than 10 minutes means hashrate has dropped and difficulty should come down.</div>
      </div>

    </div><!-- /panel-grid (mempool + blocktime) -->

    <!-- Panel 8: Transaction Fees ‚Äî full-width between grids -->
    <div class="terminal-panel" id="fees-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Transaction Fees (USD)</h2>
        </div>
        <div class="terminal-controls">
          <button class="time-btn" data-range="30" data-chart="fees">30D</button>
          <button class="time-btn" data-range="90" data-chart="fees">90D</button>
          <button class="time-btn active" data-range="365" data-chart="fees">1Y</button>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="fees-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Tallying fees...</div>
        </div>
        <div class="chart-container">
          <canvas id="fees-chart"></canvas>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Daily Fees</span>
          <span class="stat-value" id="fees-current">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">30D Change</span>
          <span class="stat-value" id="fees-change">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Peak Fees</span>
          <span class="stat-value" id="fees-peak">--</span>
        </div>
      </div>
      <div class="panel-explain">Total fees paid by Bitcoin users per day in USD. Fees spike during network congestion ‚Äî NFT mints, market panic, heavy trading. For home miners, high-fee periods can meaningfully boost your daily earnings on top of the block reward.</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SECTION: MINING ECONOMICS
         Revenue ‚Ä¢ Hashprice
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section-divider">
      <div class="divider-icon"></div>
      MINING ECONOMICS
      <div class="divider-icon"></div>
    </div>

    <div class="panel-grid">

      <!-- Panel 9: Miner Revenue -->
      <div class="terminal-panel" id="revenue-panel">
        <div class="terminal-header">
          <div class="terminal-title">
            <div class="terminal-icon"></div>
            <h2>Miner Revenue (USD)</h2>
          </div>
          <div class="terminal-controls">
            <button class="time-btn" data-range="30" data-chart="revenue">30D</button>
            <button class="time-btn" data-range="90" data-chart="revenue">90D</button>
            <button class="time-btn active" data-range="365" data-chart="revenue">1Y</button>
          </div>
        </div>
        <div class="terminal-body">
          <div class="loading-overlay" id="revenue-loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">Compiling revenue data...</div>
          </div>
          <div class="chart-container">
            <canvas id="revenue-chart"></canvas>
          </div>
        </div>
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-label">Daily Revenue</span>
            <span class="stat-value" id="revenue-current">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">30D Change</span>
            <span class="stat-value" id="revenue-change">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Avg Revenue</span>
            <span class="stat-value" id="revenue-avg">--</span>
          </div>
        </div>
        <div class="panel-explain">Total USD earned by all Bitcoin miners per day ‚Äî block rewards plus transaction fees combined. This is the whole pie. Your share depends on what percentage of total network hashrate your machines represent.</div>
      </div>

      <!-- Panel 10: Hashprice -->
      <div class="terminal-panel" id="hashprice-panel">
        <div class="terminal-header">
          <div class="terminal-title">
            <div class="terminal-icon"></div>
            <h2><span class="glossary-term" data-term="hashprice">Hashprice</span> ($/TH/day)</h2>
          </div>
          <div class="terminal-controls">
            <button class="time-btn" data-range="30" data-chart="hashprice">30D</button>
            <button class="time-btn" data-range="90" data-chart="hashprice">90D</button>
            <button class="time-btn active" data-range="365" data-chart="hashprice">1Y</button>
          </div>
        </div>
        <div class="terminal-body">
          <div class="loading-overlay" id="hashprice-loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">Calculating hashprice...</div>
          </div>
          <div class="chart-container">
            <canvas id="hashprice-chart"></canvas>
          </div>
        </div>
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-label">Current</span>
            <span class="stat-value" id="hashprice-current">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">30D Change</span>
            <span class="stat-value" id="hashprice-change">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Period Low</span>
            <span class="stat-value" id="hashprice-low">--</span>
          </div>
        </div>
        <div class="panel-explain">What one terahash of mining power earns per day in USD. This is the bottom line ‚Äî it accounts for difficulty, price, and fees all in one number. Compare this against your electricity cost per TH to know if you're profitable.</div>
      </div>

    </div><!-- /panel-grid (revenue + hashprice) -->

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SECTION: HALVING EPOCH
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section-divider">
      <div class="divider-icon"></div>
      HALVING EPOCH
      <div class="divider-icon"></div>
    </div>

    <!-- Panel 11: Halving Countdown (no chart ‚Äî custom layout) -->
    <div class="terminal-panel halving-panel" id="halving-panel">
      <div class="terminal-header">
        <div class="terminal-title">
          <div class="terminal-icon"></div>
          <h2>Halving Countdown</h2>
        </div>
      </div>
      <div class="terminal-body">
        <div class="loading-overlay" id="halving-loading">
          <div class="loading-spinner"></div>
          <div class="loading-text">Calculating epoch...</div>
        </div>

        <div class="halving-epoch">EPOCH 5 ‚Äî BLOCK REWARD REDUCTION</div>

        <div class="halving-countdown">
          <div class="countdown-block">
            <span class="countdown-value" id="countdown-days">---</span>
            <span class="countdown-label">Days</span>
          </div>
          <div class="countdown-block">
            <span class="countdown-value" id="countdown-hours">--</span>
            <span class="countdown-label">Hours</span>
          </div>
          <div class="countdown-block">
            <span class="countdown-value" id="countdown-minutes">--</span>
            <span class="countdown-label">Minutes</span>
          </div>
        </div>

        <div class="halving-progress">
          <div class="progress-bar-track">
            <div class="progress-bar-fill" id="halving-progress-fill"></div>
          </div>
          <div class="progress-label">
            <span id="halving-progress-text">--% through current epoch</span>
          </div>
        </div>

        <div class="halving-info">
          Current Reward: <span class="highlight" id="halving-reward-current">3.125 BTC</span>
          &nbsp;‚Üí&nbsp;
          Post-Halving: <span class="highlight" id="halving-reward-next">1.5625 BTC</span>
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-label">Target Block</span>
          <span class="stat-value amber" id="halving-block">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Current Block</span>
          <span class="stat-value" id="halving-current">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Blocks Remaining</span>
          <span class="stat-value" id="halving-remaining">--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Est. Date</span>
          <span class="stat-value green" id="halving-estimate">--</span>
        </div>
      </div>
      <div class="panel-explain">Bitcoin cuts the <span class="glossary-term" data-term="block-reward">block reward</span> in half roughly every 4 years. The last halving (April 2024) dropped the reward from 6.25 to 3.125 BTC per block. The next one will cut it to 1.5625 BTC. Halvings historically squeeze miners short-term but have preceded major price increases.</div>
    </div>

  </main>

  <footer class="vault-footer">
    <p>SOLA'S ARRAY ‚Ä¢ IMPERIAL DATA VAULT ‚Ä¢ <a href="index.html">‚Üê Return to Calculator</a></p>
    <p style="margin-top: 10px; opacity: 0.6;">Data sourced from Blockchain.com & CoinGecko APIs ‚Ä¢ Charts update on load</p>
  </footer>

  <!-- Chart.js + Date Adapter (must load before solas-charts.js) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <script src="assets/solas-charts.js"></script>

  <!-- Navigation Toggle -->
  <script>
    function toggleNav() {
      const btn = document.getElementById('hamburger-btn');
      const drawer = document.getElementById('nav-drawer');
      const overlay = document.getElementById('nav-overlay');
      btn.classList.toggle('open');
      drawer.classList.toggle('open');
      overlay.classList.toggle('show');
    }

    document.getElementById('hamburger-btn').addEventListener('click', toggleNav);
    document.getElementById('nav-overlay').addEventListener('click', toggleNav);

    // ============================================
    // GLOSSARY DEFINITIONS
    // ============================================
    const GLOSSARY = {
      'hashrate': {
        title: 'Hashrate',
        definition: 'How many calculations your miner performs per second. Higher hashrate = more chances to earn rewards. The network hashrate is the combined power of all miners worldwide. When it rises, difficulty follows ‚Äî and your share of rewards shrinks.'
      },
      'difficulty': {
        title: 'Difficulty',
        definition: 'A measure of how hard it is to mine a block. Adjusts automatically every ~2,016 blocks based on total network hashrate. Higher difficulty = less frequent rewards for the same hashrate. This is the single most important number for your profitability.'
      },
      'block-reward': {
        title: 'Block Reward',
        definition: 'The cryptocurrency paid to miners who successfully add a new block to the blockchain. For Bitcoin, this halves every ~4 years. Currently 3.125 BTC per block (since April 2024). Next halving will reduce it to 1.5625 BTC.'
      },
      'hashprice': {
        title: 'Hashprice',
        definition: 'What one terahash of mining power earns per day in USD. This is the bottom-line number ‚Äî it accounts for difficulty, price, and fees all in one. Compare this against your electricity cost per TH to know if you\'re profitable.'
      }
    };

    function openGlossary(term) {
      var data = GLOSSARY[term];
      if (!data) return;
      document.getElementById('glossary-term-title').textContent = data.title;
      document.getElementById('glossary-term-definition').textContent = data.definition;
      document.getElementById('glossary-drawer').classList.add('open');
      document.getElementById('glossary-overlay').classList.add('show');
    }

    function closeGlossary() {
      document.getElementById('glossary-drawer').classList.remove('open');
      document.getElementById('glossary-overlay').classList.remove('show');
    }

    document.querySelectorAll('.glossary-term').forEach(function(el) {
      el.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        var term = el.getAttribute('data-term');
        if (term) openGlossary(term);
      });
    });

    document.getElementById('glossary-close').addEventListener('click', function(e) {
      e.preventDefault();
      closeGlossary();
    });

    document.getElementById('glossary-overlay').addEventListener('click', function(e) {
      e.preventDefault();
      closeGlossary();
    });
  </script>

<!-- ============================================ -->
<!-- SOLA FEEDBACK POPUP WIDGET ‚Äî Temporary feature -->
<!-- Remove this entire block when feedback window closes -->
<!-- ============================================ -->
<div id="sola-feedback-widget" style="display:none;">
  <!-- Small trigger bubble (bottom-right) -->
  <div id="sola-fb-bubble" style="position:fixed;bottom:20px;right:20px;z-index:9999;cursor:pointer;">
    <p style="color:var(--sola-gold, #D4AF37);font-size:14px;font-weight:700;text-align:center;margin-bottom:6px;font-family:'Roboto',sans-serif;">Hey! Got a second?</p>
    <video id="sola-fb-video" width="200" height="113" muted playsinline loop style="border-radius:8px;border:2px solid var(--sola-gold, #D4AF37);box-shadow:0 4px 20px rgba(0,0,0,0.5);"
      src="assets/sola_feedback.mp4"></video>
    <div style="display:flex;gap:8px;margin-top:6px;justify-content:center;">
      <button id="sola-fb-yes" style="padding:6px 18px;border-radius:8px;border:1px solid var(--sola-gold, #D4AF37);background:var(--sola-emerald, #0B2F26);color:var(--sola-gold, #D4AF37);font-family:'Roboto',sans-serif;font-size:13px;font-weight:700;cursor:pointer;transition:all 0.2s;">Sure!</button>
      <button id="sola-fb-no" style="padding:6px 18px;border-radius:8px;border:1px solid var(--text-muted, #5a6a7a);background:transparent;color:var(--text-secondary, #8899a8);font-family:'Roboto',sans-serif;font-size:13px;cursor:pointer;transition:all 0.2s;">Not now</button>
    </div>
  </div>

  <!-- Wizard overlay -->
  <div id="sola-fb-wizard" style="display:none;position:fixed;bottom:20px;right:20px;z-index:10000;width:320px;background:var(--bg-card, #22303f);border:1px solid var(--sola-gold, #D4AF37);border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.6);font-family:'Roboto',sans-serif;overflow:hidden;">
    <!-- Header -->
    <div style="background:var(--sola-emerald, #0B2F26);padding:12px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--sola-gold, #D4AF37);">
      <span style="color:var(--sola-gold, #D4AF37);font-weight:700;font-size:14px;">Sola Ray ‚Äî Feedback</span>
      <button id="sola-fb-close" style="background:none;border:none;color:var(--text-secondary, #8899a8);font-size:18px;cursor:pointer;padding:0 4px;line-height:1;">&times;</button>
    </div>
    <!-- Privacy note -->
    <div style="padding:8px 16px;background:var(--bg-secondary, #1a2836);font-size:11px;color:var(--text-muted, #5a6a7a);line-height:1.4;">
      Your email is used only for direct communication with Sola Ray Effect. It will never be sold, shared, or added to any mailing list.
    </div>
    <!-- Steps container -->
    <div id="sola-fb-steps" style="padding:16px;">
      <!-- Step 1: How did you find us -->
      <div class="sola-fb-step" data-step="1">
        <p style="color:var(--text-primary, #e8f0f7);font-size:14px;margin-bottom:12px;font-weight:700;">How did you find Sola Ray Effect?</p>
        <select id="sola-fb-source" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;">
          <option value="">Select one...</option>
          <option value="Google Search">Google Search</option>
          <option value="YouTube">YouTube</option>
          <option value="Reddit">Reddit</option>
          <option value="Twitter/X">Twitter / X</option>
          <option value="Facebook">Facebook</option>
          <option value="A Friend">A Friend</option>
          <option value="Mining Forum">Mining Forum</option>
          <option value="Other">Other</option>
        </select>
        <button class="sola-fb-next" data-next="2" style="margin-top:12px;width:100%;padding:10px;border-radius:8px;border:none;background:var(--sola-gold, #D4AF37);color:var(--sola-emerald, #0B2F26);font-weight:700;font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Next</button>
      </div>
      <!-- Step 2: What brought you here -->
      <div class="sola-fb-step" data-step="2" style="display:none;">
        <p style="color:var(--text-primary, #e8f0f7);font-size:14px;margin-bottom:12px;font-weight:700;">What brought you to the site?</p>
        <textarea id="sola-fb-reason" rows="3" placeholder="What were you looking for?" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;resize:vertical;"></textarea>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button class="sola-fb-back" data-back="1" style="flex:1;padding:10px;border-radius:8px;border:1px solid var(--text-muted, #5a6a7a);background:transparent;color:var(--text-secondary, #8899a8);font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Back</button>
          <button class="sola-fb-next" data-next="3" style="flex:2;padding:10px;border-radius:8px;border:none;background:var(--sola-gold, #D4AF37);color:var(--sola-emerald, #0B2F26);font-weight:700;font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Next</button>
        </div>
      </div>
      <!-- Step 3: Feedback -->
      <div class="sola-fb-step" data-step="3" style="display:none;">
        <p style="color:var(--text-primary, #e8f0f7);font-size:14px;margin-bottom:12px;font-weight:700;">What's your favorite thing about Sola Ray Effect?</p>
        <textarea id="sola-fb-message" rows="4" placeholder="What do you like most about the site?" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;resize:vertical;"></textarea>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button class="sola-fb-back" data-back="2" style="flex:1;padding:10px;border-radius:8px;border:1px solid var(--text-muted, #5a6a7a);background:transparent;color:var(--text-secondary, #8899a8);font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Back</button>
          <button class="sola-fb-next" data-next="4" style="flex:2;padding:10px;border-radius:8px;border:none;background:var(--sola-gold, #D4AF37);color:var(--sola-emerald, #0B2F26);font-weight:700;font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Next</button>
        </div>
      </div>
      <!-- Step 4: Coin/miner request -->
      <div class="sola-fb-step" data-step="4" style="display:none;">
        <p style="color:var(--text-primary, #e8f0f7);font-size:14px;margin-bottom:12px;font-weight:700;">Any coins, miners, or features you'd like to see added?</p>
        <textarea id="sola-fb-request" rows="3" placeholder="Optional ‚Äî skip if you want" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;resize:vertical;"></textarea>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button class="sola-fb-back" data-back="3" style="flex:1;padding:10px;border-radius:8px;border:1px solid var(--text-muted, #5a6a7a);background:transparent;color:var(--text-secondary, #8899a8);font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Back</button>
          <button class="sola-fb-next" data-next="5" style="flex:2;padding:10px;border-radius:8px;border:none;background:var(--sola-gold, #D4AF37);color:var(--sola-emerald, #0B2F26);font-weight:700;font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Next</button>
        </div>
      </div>
      <!-- Step 5: Email + Name -->
      <div class="sola-fb-step" data-step="5" style="display:none;">
        <p style="color:var(--text-primary, #e8f0f7);font-size:14px;margin-bottom:12px;font-weight:700;">Where can Sola reach you?</p>
        <input id="sola-fb-name" type="text" placeholder="Name (optional)" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;margin-bottom:8px;">
        <input id="sola-fb-email" type="email" placeholder="Your email" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border-color, rgba(0,206,209,0.4));background:var(--bg-secondary, #1a2836);color:var(--text-primary, #e8f0f7);font-size:14px;font-family:'Roboto',sans-serif;">
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button class="sola-fb-back" data-back="4" style="flex:1;padding:10px;border-radius:8px;border:1px solid var(--text-muted, #5a6a7a);background:transparent;color:var(--text-secondary, #8899a8);font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Back</button>
          <button id="sola-fb-submit" style="flex:2;padding:10px;border-radius:8px;border:none;background:var(--profit, #00e676);color:var(--sola-emerald, #0B2F26);font-weight:700;font-size:14px;cursor:pointer;font-family:'Roboto',sans-serif;">Send Feedback</button>
        </div>
      </div>
      <!-- Step 6: Thank you -->
      <div class="sola-fb-step" data-step="6" style="display:none;">
        <p style="color:var(--sola-gold, #D4AF37);font-size:16px;font-weight:700;text-align:center;margin-bottom:8px;">Thanks for the feedback!</p>
        <p style="color:var(--text-secondary, #8899a8);font-size:13px;text-align:center;">Sola will respond to your email directly.</p>
      </div>
      <!-- Error state -->
      <div id="sola-fb-error" style="display:none;">
        <p style="color:var(--loss, #ff5252);font-size:13px;text-align:center;margin-top:8px;">Something went wrong. Please try again.</p>
      </div>
    </div>
    <!-- Step indicator dots -->
    <div id="sola-fb-dots" style="display:flex;justify-content:center;gap:6px;padding:0 16px 12px;">
      <span class="sola-fb-dot" style="width:8px;height:8px;border-radius:50%;background:var(--sola-gold, #D4AF37);"></span>
      <span class="sola-fb-dot" style="width:8px;height:8px;border-radius:50%;background:var(--text-muted, #5a6a7a);"></span>
      <span class="sola-fb-dot" style="width:8px;height:8px;border-radius:50%;background:var(--text-muted, #5a6a7a);"></span>
      <span class="sola-fb-dot" style="width:8px;height:8px;border-radius:50%;background:var(--text-muted, #5a6a7a);"></span>
      <span class="sola-fb-dot" style="width:8px;height:8px;border-radius:50%;background:var(--text-muted, #5a6a7a);"></span>
    </div>
  </div>
</div>

<script>
(function() {
  // Don't show if user already dismissed or submitted
  if (localStorage.getItem('sola-fb-done')) return;

  var widget = document.getElementById('sola-feedback-widget');
  var bubble = document.getElementById('sola-fb-bubble');
  var wizard = document.getElementById('sola-fb-wizard');
  var video = document.getElementById('sola-fb-video');
  var dots = document.querySelectorAll('.sola-fb-dot');

  // Show bubble after 2 minutes
  setTimeout(function() {
    widget.style.display = 'block';
    video.play().catch(function() {});
  }, 120000);

  // "Sure!" ‚Äî open wizard
  document.getElementById('sola-fb-yes').addEventListener('click', function() {
    bubble.style.display = 'none';
    wizard.style.display = 'block';
  });

  // "Not now" ‚Äî dismiss and remember
  document.getElementById('sola-fb-no').addEventListener('click', function() {
    widget.style.display = 'none';
    localStorage.setItem('sola-fb-done', 'dismissed');
  });

  // Close wizard
  document.getElementById('sola-fb-close').addEventListener('click', function() {
    widget.style.display = 'none';
    localStorage.setItem('sola-fb-done', 'dismissed');
  });

  // Step navigation
  function showStep(n) {
    var steps = document.querySelectorAll('.sola-fb-step');
    for (var i = 0; i < steps.length; i++) {
      steps[i].style.display = steps[i].getAttribute('data-step') == n ? 'block' : 'none';
    }
    // Update dots
    for (var j = 0; j < dots.length; j++) {
      dots[j].style.background = (j < n && n <= 5) ? 'var(--sola-gold, #D4AF37)' : 'var(--text-muted, #5a6a7a)';
    }
    // Hide dots on thank you
    document.getElementById('sola-fb-dots').style.display = n == 6 ? 'none' : 'flex';
  }

  // Next buttons
  document.querySelectorAll('.sola-fb-next').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var next = parseInt(this.getAttribute('data-next'));
      // Validate step 1: source required
      if (next == 2 && !document.getElementById('sola-fb-source').value) {
        document.getElementById('sola-fb-source').style.borderColor = 'var(--loss, #ff5252)';
        return;
      }
      // Validate step 2: reason required
      if (next == 3 && !document.getElementById('sola-fb-reason').value.trim()) {
        document.getElementById('sola-fb-reason').style.borderColor = 'var(--loss, #ff5252)';
        return;
      }
      // Validate step 3: feedback required
      if (next == 4 && !document.getElementById('sola-fb-message').value.trim()) {
        document.getElementById('sola-fb-message').style.borderColor = 'var(--loss, #ff5252)';
        return;
      }
      showStep(next);
    });
  });

  // Back buttons
  document.querySelectorAll('.sola-fb-back').forEach(function(btn) {
    btn.addEventListener('click', function() {
      showStep(parseInt(this.getAttribute('data-back')));
    });
  });

  // Reset border on input
  document.getElementById('sola-fb-source').addEventListener('change', function() {
    this.style.borderColor = '';
  });
  document.getElementById('sola-fb-reason').addEventListener('input', function() {
    this.style.borderColor = '';
  });
  document.getElementById('sola-fb-message').addEventListener('input', function() {
    this.style.borderColor = '';
  });

  // Submit
  document.getElementById('sola-fb-submit').addEventListener('click', function() {
    var email = document.getElementById('sola-fb-email').value.trim();
    if (!email) {
      document.getElementById('sola-fb-email').style.borderColor = 'var(--loss, #ff5252)';
      return;
    }
    document.getElementById('sola-fb-email').style.borderColor = '';
    var btn = this;
    btn.textContent = 'Sending...';
    btn.disabled = true;

    var data = {
      access_key: 'f66dbe16-41bf-4d02-ac67-aab832222384',
      subject: 'Sola Ray Feedback ‚Äî via ' + document.getElementById('sola-fb-source').value,
      from_name: 'Sola Ray Feedback Widget',
      name: document.getElementById('sola-fb-name').value.trim() || 'Anonymous',
      email: email,
      found_us_via: document.getElementById('sola-fb-source').value,
      what_brought_you: document.getElementById('sola-fb-reason').value.trim(),
      feedback: document.getElementById('sola-fb-message').value.trim(),
      feature_request: document.getElementById('sola-fb-request').value.trim() || 'None'
    };

    fetch('https://api.web3forms.com/submit', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(function(res) { return res.json(); })
    .then(function(result) {
      if (result.success) {
        showStep(6);
        localStorage.setItem('sola-fb-done', 'submitted');
        // Auto-close after 3 seconds
        setTimeout(function() { widget.style.display = 'none'; }, 3000);
      } else {
        document.getElementById('sola-fb-error').style.display = 'block';
        btn.textContent = 'Send Feedback';
        btn.disabled = false;
      }
    })
    .catch(function() {
      document.getElementById('sola-fb-error').style.display = 'block';
      btn.textContent = 'Send Feedback';
      btn.disabled = false;
    });
  });

  // Email border reset
  document.getElementById('sola-fb-email').addEventListener('input', function() {
    this.style.borderColor = '';
  });
})();
</script>
<!-- END SOLA FEEDBACK POPUP WIDGET -->

</body>
</html>
